@model MMi_BIS_PA.Models.PiechartData

@*<style>
        .bg-success {
            color: #FFFFFF;
            font-weight: bold;
            text-align: center;
        }
    </style>

    <div class="container-fluid" style="height:100%;">
        <div class="row" style="height:50px">
        </div>
        <div class="card shadow mb-3" style="width: 100%; height:600px">
            <div class="card-body">

                <canvas id="myChart" style="height:100%;width:100%"></canvas>
            </div>

        </div>
    </div>


    <script>
        let myChart = document.getElementById('myChart').getContext('2d');

        let massPopChart = new Chart(myChart, {
            type: 'pie',
            data: {

                datasets: [{
                    label: 'Population',
                    data:[
               @ViewBag.clip1,
               @ViewBag.clip2,
               @ViewBag.ring,
               @ViewBag.weight,
               @ViewBag.TotalSuccessfulCycles


              ],
                    // backgroundColor:'green' #20c997  ' #00cc00'
                    backgroundColor: [
                        '#ff8400', // old clip color ' #ff0066'
                        '#ffc400',
                        '#fff700',
                        '#ccff00',//old ring color #00ccff

                        '#02b84e'//green color

                    ],
                    borederWidth: 0,
                    borderColor: '#777',
                    hoverBorderWidth: 1,
                    hoverBorderColor: '#000'
                }],
                labels: ['Clip 1', 'Clip 2', 'Rings', 'Weight', 'Successfull Pistons'],

            },
            options: {
                title: {
                    display: true,
                    text: 'Current Shift Data Pie Chart',
                    fontSize: 25
                }
            }

        });
    </script>*@

<script>
    //let myChart = document.getElementById('myChart').getContext('2d');
    $(document).ready(function () {
        //alert("executed")
       updateChart();
    });


     function updateChart() {
        // console.log("inside update chart");
        //massPopChart.destroy();
        massPopChart.data.datasets[0].data = [
           @Model.clip1,
           @Model.clip2,
           @Model.ring,
           @Model.weight,
           @Model.TotalSuccessfulCycles
            //12,11,21,31,200

         ];
         // console.dir(massPopChart);
         console.log("");
        console.log(@Model.clip1);
        console.log(@Model.clip2);
        console.log(@Model.ring);
        console.log(@Model.weight);
        console.log(@Model.TotalSuccessfulCycles);
         massPopChart.update();

    }



    $(document).ready(function () {

        $('#updatePie').click(function () {
            updateChart();
        });
    });


</script>
